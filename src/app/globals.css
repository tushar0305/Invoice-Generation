@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Modern Heritage - Light Mode (Cream & Royal Blue) */
    --background: 40 20% 98%;
    /* Creamy White */
    --foreground: 222 47% 11%;
    /* Deep Royal Blue */

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --primary: 222 47% 11%;
    /* Deep Royal Blue */
    --primary-foreground: 45 93% 47%;
    /* Gold Text */

    --secondary: 45 30% 90%;
    /* Soft Gold/Beige */
    --secondary-foreground: 222 47% 11%;

    --muted: 220 14% 90%;
    --muted-foreground: 220 8% 46%;

    --accent: 45 93% 47%;
    /* Gold */
    --accent-foreground: 222 47% 11%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 210 40% 98%;

    --border: 220 13% 85%;
    --input: 220 13% 85%;
    --ring: 222 47% 11%;

    --radius: 0.75rem;

    --sidebar-background: 40 20% 98%;
    --sidebar-foreground: 222 47% 11%;
    --sidebar-primary: 222 47% 11%;
    --sidebar-primary-foreground: 45 93% 47%;
    --sidebar-accent: 45 30% 90%;
    --sidebar-accent-foreground: 222 47% 11%;
    --sidebar-border: 220 13% 85%;
    --sidebar-ring: 222 47% 11%;
  }

  .dark {
    /* Modern Heritage - Dark Mode (Royal Blue & Gold) */
    --background: 222 47% 11%;
    /* Deep Royal Blue #0F172A */
    --foreground: 40 20% 97%;
    /* Creamy White */

    --card: 222 47% 13%;
    /* Slightly lighter Royal Blue */
    --card-foreground: 40 20% 97%;

    --popover: 222 47% 11%;
    --popover-foreground: 40 20% 97%;

    --primary: 45 93% 47%;
    /* Gold #D4AF37 */
    --primary-foreground: 222 47% 11%;
    /* Royal Blue Text */

    --secondary: 217 19% 27%;
    --secondary-foreground: 40 20% 97%;

    --muted: 217 19% 27%;
    --muted-foreground: 215 20% 65%;

    --accent: 45 93% 47%;
    /* Gold */
    --accent-foreground: 222 47% 11%;

    --destructive: 0 62% 30%;
    --destructive-foreground: 40 20% 97%;

    --border: 217 19% 27%;
    --input: 217 19% 27%;
    --ring: 45 93% 47%;

    --sidebar-background: 222 47% 11%;
    --sidebar-foreground: 40 20% 97%;
    --sidebar-primary: 45 93% 47%;
    --sidebar-primary-foreground: 222 47% 11%;
    --sidebar-accent: 217 19% 27%;
    --sidebar-accent-foreground: 40 20% 97%;
    --sidebar-border: 217 19% 27%;
    --sidebar-ring: 45 93% 47%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
    min-height: 100vh;
  }
}

@layer utilities {
  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }

  .glass-panel {
    @apply bg-background/60 backdrop-blur-xl border border-white/10 shadow-xl;
  }

  .glass-card {
    @apply bg-card/40 backdrop-blur-md border border-white/5 shadow-lg hover:shadow-gold-500/10 transition-all duration-300;
  }

  .text-gradient-gold {
    @apply bg-clip-text text-transparent bg-gradient-to-r from-[#D4AF37] via-[#F3E5AB] to-[#D4AF37];
  }

  .bg-mesh {
    background-color: hsl(var(--background));
    background-image:
      radial-gradient(at 0% 0%, hsla(45, 93%, 47%, 0.15) 0px, transparent 50%),
      radial-gradient(at 100% 0%, hsla(224, 64%, 12%, 0.15) 0px, transparent 50%),
      radial-gradient(at 100% 100%, hsla(45, 93%, 47%, 0.15) 0px, transparent 50%),
      radial-gradient(at 0% 100%, hsla(224, 64%, 12%, 0.15) 0px, transparent 50%);
  }

  /* Modern table styling with visible hover */
  .table-modern tbody tr {
    border-bottom: 1px solid hsl(var(--border));
    transition: background-color 0.15s ease;
  }

  .table-modern tbody tr:last-child {
    border-bottom: none;
  }

  .table-modern tbody tr:hover {
    background: hsl(var(--muted)) !important;
  }

  .dark .table-modern tbody tr:hover {
    background: hsl(var(--primary) / 0.15) !important;
  }

  /* Prevent horizontal scroll on mobile */
  html,
  body {
    overflow-x: hidden;
    max-width: 100vw;
  }

  /* Gold color utility */
  .text-gold-400 {
    color: #D4AF37;
  }

  /* Mobile safe area - prevent content from going under notch/status bar */
  @supports (padding-top: env(safe-area-inset-top)) {
    .mobile-safe-top {
      padding-top: max(env(safe-area-inset-top), 1rem);
    }

    .mobile-safe-bottom {
      padding-bottom: max(env(safe-area-inset-bottom), 1rem);
    }
  }
}

/* Status bar / Notification area fix for Android/iOS */
@media (max-width: 768px) {

  /* Add extra padding to body to account for status bar */
  body {
    padding-top: env(safe-area-inset-top) !important;
  }

  /* Ensure main content area has proper spacing */
  main {
    padding-top: 1rem;
  }
}

/* Fix for white status bar text on light backgrounds */
@supports (-webkit-touch-callout: none) {

  /* iOS specific - add dark background to status bar area */
  body {
    background-color: hsl(var(--background));
  }
}


/* Mobile WebView Fixes - Prevent Horizontal Scroll */
html {
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
}

body {
  overflow-x: hidden;
  width: 100%;
  max-width: 100vw;
  position: relative;
}

/* Ensure all elements fit within viewport */
* {
  max-width: 100vw;
  box-sizing: border-box;
}

/* Fix tables on mobile */
@media screen and (max-width: 768px) {
  table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    -webkit-overflow-scrolling: touch;
  }

  /* Ensure forms don't overflow */
  form {
    width: 100%;
    overflow-x: hidden;
  }

  /* Fix sidebar on mobile WebView */
  [data-sidebar] {
    max-width: 100vw !important;
  }

  /* Touch target improvements */
  button,
  a,
  input,
  select,
  textarea {
    min-height: 44px;
  }
}